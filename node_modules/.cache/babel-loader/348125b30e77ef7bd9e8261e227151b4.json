{"ast":null,"code":"var _jsxFileName = \"/Users/martinraba/Desktop/training_app/src/training/past-training-table/Past-training-table.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { AuthContext } from '../../auth/AuthContext';\nimport { Button } from '@material-ui/core';\n\nconst PastTrainingTable = () => {\n  const [finishedExercises, setFinishedExercises] = useState([]);\n  const {\n    uid\n  } = useContext(AuthContext);\n  useEffect(() => {\n    const fetchFinishedExercises = async () => {\n      try {\n        const response = await fetch('https://training-app-d460e.firebaseio.com/exercises.json');\n        let res = response.json();\n        console.log(res);\n        const dataArray = [];\n        setFinishedExercises(dataArray);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchFinishedExercises();\n  }, []);\n\n  const onDeleteExercise = async exerciseId => {\n    try {\n      const response = await fetch(`https://training-app-d460e.firebaseio.com/exercises/${[exerciseId]}.json`, {\n        method: \"DELETE\"\n      });\n      response.json();\n      console.log(response);\n      setFinishedExercises(prevExercises => prevExercises.filter(ex => ex.id !== exerciseId));\n      console.log(finishedExercises);\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Exercise\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Duration \"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Date \"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \" Calories \"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \" Status\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \" Action\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, finishedExercises && uid && finishedExercises.map(row => uid === row.exUserId ? /*#__PURE__*/React.createElement(TableRow, {\n    key: row.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, Math.round(row.duration), \".s\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 19\n    }\n  }, row.date), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, Math.round(row.calories)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, row.status), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: e => {\n      onDeleteExercise(row.id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, \"Delete\"))) : null))));\n};\n\nexport default PastTrainingTable;","map":{"version":3,"sources":["/Users/martinraba/Desktop/training_app/src/training/past-training-table/Past-training-table.js"],"names":["React","useEffect","useState","useContext","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","AuthContext","Button","PastTrainingTable","finishedExercises","setFinishedExercises","uid","fetchFinishedExercises","response","fetch","res","json","console","log","dataArray","err","onDeleteExercise","exerciseId","method","prevExercises","filter","ex","id","message","map","row","exUserId","name","Math","round","duration","date","calories","status","e"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { AuthContext } from '../../auth/AuthContext';\nimport { Button } from '@material-ui/core';\n\n\nconst PastTrainingTable = () => {\n\n  const [finishedExercises, setFinishedExercises] = useState([]);\n  const {uid} = useContext(AuthContext);\n\n  useEffect(() => {\n    \n    const fetchFinishedExercises = async() => {\n      try {\n        const response = await fetch('https://training-app-d460e.firebaseio.com/exercises.json');\n        let res = response.json();\n        console.log(res)\n       \n          const dataArray = [];\n          \n          setFinishedExercises(dataArray)\n      } \n      catch(err) {\n          console.log(err);\n      }\n    }\n    fetchFinishedExercises()\n    \n}, []);\n\nconst onDeleteExercise = async (exerciseId) => {\n\n  try {\n      const response = await fetch(`https://training-app-d460e.firebaseio.com/exercises/${[exerciseId]}.json`,\n        { method: \"DELETE\" });\n      response.json();\n      console.log(response)\n      setFinishedExercises(prevExercises => prevExercises.filter(\n      ex => ex.id !== exerciseId));\n      console.log(finishedExercises)\n  }\n  catch(err) {\n      console.log(err.message);\n    }\n  }\n\n    return (\n        <TableContainer component={Paper}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>Exercise</TableCell>\n                <TableCell align=\"right\">Duration </TableCell>\n                <TableCell align=\"right\">Date </TableCell>\n                <TableCell align=\"right\"> Calories </TableCell>\n                <TableCell align=\"right\"> Status</TableCell>\n                <TableCell align=\"right\"> Action</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              { finishedExercises && uid && finishedExercises.map((row) => (\n               uid === row.exUserId ?\n                <TableRow key={row.id}>\n                  <TableCell component=\"th\" scope=\"row\">{row.name}</TableCell>\n                  <TableCell align=\"right\">{Math.round(row.duration)}.s</TableCell>\n                  <TableCell align=\"right\">{row.date}</TableCell>\n                  <TableCell align=\"right\">{Math.round(row.calories)}</TableCell>\n                  <TableCell align=\"right\">{row.status}</TableCell>\n                  <TableCell align=\"right\">\n                    <Button\n                     onClick={e => {onDeleteExercise(row.id)}}>\n                       Delete\n                    </Button>\n                  </TableCell>\n\n                </TableRow> : null\n              )) }\n            </TableBody>\n          </Table>\n        </TableContainer>\n      );\n\n}\n\nexport default PastTrainingTable;"]},"metadata":{},"sourceType":"module"}